{"ast":null,"code":"var _jsxFileName = \"/home/krishnapriya/MedShield/frontend/src/context/AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { login, signup } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\"));\n      setUser(storedUser);\n    }\n  }, []);\n  const handleSignup = async userData => {\n    try {\n      const res = await signup(userData);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n      setUser(res.data.user);\n    } catch (error) {\n      var _error$response;\n      console.error(\"Signup Error\", (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n    }\n  };\n  const handleLogin = async userData => {\n    try {\n      const res = await login(userData);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n      setUser(res.data.user);\n    } catch (error) {\n      var _error$response2;\n      console.error(\"Login Error\", (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      handleSignup,\n      handleLogin,\n      handleLogout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthProvider, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","login","signup","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","user","setUser","token","localStorage","getItem","storedUser","JSON","parse","handleSignup","userData","res","setItem","data","stringify","error","_error$response","console","response","handleLogin","_error$response2","handleLogout","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/krishnapriya/MedShield/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport { login, signup } from \"../services/api\";\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (token) {\n            const storedUser = JSON.parse(localStorage.getItem(\"user\"));\n            setUser(storedUser);\n        }\n    }, []);\n\n    const handleSignup = async (userData) => {\n        try {\n            const res = await signup(userData);\n            localStorage.setItem(\"token\", res.data.token);\n            localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n            setUser(res.data.user);\n        } catch (error) {\n            console.error(\"Signup Error\", error.response?.data);\n        }\n    };\n\n    const handleLogin = async (userData) => {\n        try {\n            const res = await login(userData);\n            localStorage.setItem(\"token\", res.data.token);\n            localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n            setUser(res.data.user);\n        } catch (error) {\n            console.error(\"Login Error\", error.response?.data);\n        }\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        setUser(null);\n    };\n\n    return (\n        <AuthContext.Provider value={{ user, handleSignup, handleLogin, handleLogout }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,KAAK,EAAEC,MAAM,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,OAAO,MAAMC,WAAW,gBAAGP,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMQ,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACZ,MAAMW,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACP,MAAMG,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MAC3DH,OAAO,CAACI,UAAU,CAAC;IACvB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,YAAY,GAAG,MAAOC,QAAQ,IAAK;IACrC,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMjB,MAAM,CAACgB,QAAQ,CAAC;MAClCN,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAED,GAAG,CAACE,IAAI,CAACV,KAAK,CAAC;MAC7CC,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEL,IAAI,CAACO,SAAS,CAACH,GAAG,CAACE,IAAI,CAACZ,IAAI,CAAC,CAAC;MAC3DC,OAAO,CAACS,GAAG,CAACE,IAAI,CAACZ,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOc,KAAK,EAAE;MAAA,IAAAC,eAAA;MACZC,OAAO,CAACF,KAAK,CAAC,cAAc,GAAAC,eAAA,GAAED,KAAK,CAACG,QAAQ,cAAAF,eAAA,uBAAdA,eAAA,CAAgBH,IAAI,CAAC;IACvD;EACJ,CAAC;EAED,MAAMM,WAAW,GAAG,MAAOT,QAAQ,IAAK;IACpC,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMlB,KAAK,CAACiB,QAAQ,CAAC;MACjCN,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAED,GAAG,CAACE,IAAI,CAACV,KAAK,CAAC;MAC7CC,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEL,IAAI,CAACO,SAAS,CAACH,GAAG,CAACE,IAAI,CAACZ,IAAI,CAAC,CAAC;MAC3DC,OAAO,CAACS,GAAG,CAACE,IAAI,CAACZ,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOc,KAAK,EAAE;MAAA,IAAAK,gBAAA;MACZH,OAAO,CAACF,KAAK,CAAC,aAAa,GAAAK,gBAAA,GAAEL,KAAK,CAACG,QAAQ,cAAAE,gBAAA,uBAAdA,gBAAA,CAAgBP,IAAI,CAAC;IACtD;EACJ,CAAC;EAED,MAAMQ,YAAY,GAAGA,CAAA,KAAM;IACvBjB,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC;IAChClB,YAAY,CAACkB,UAAU,CAAC,MAAM,CAAC;IAC/BpB,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;EAED,oBACIN,OAAA,CAACC,WAAW,CAAC0B,QAAQ;IAACC,KAAK,EAAE;MAAEvB,IAAI;MAAEQ,YAAY;MAAEU,WAAW;MAAEE;IAAa,CAAE;IAAAtB,QAAA,EAC1EA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAAC5B,EAAA,CA5CWF,YAAY;AAAA+B,EAAA,GAAZ/B,YAAY;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}